# Semaphore v1.5 - Ready Tickets

This document contains all tickets in "Ready" status for the v1.5 Release milestone (Due: September 30, 2025).

---

## 1. Add people button is not working on EE
- **Issue**: [#509](https://github.com/semaphoreio/semaphore/issues/509)
- **Internal Ticket**: [renderedtext/project-tasks#2668](https://github.com/renderedtext/project-tasks/issues/2668)
- **Type**: Bug
- **Assignee**: hamir-suspect
- **Related PR**: [#431](https://github.com/semaphoreio/semaphore/pull/431) - fix(front): remove redundant checks from add people button visibility check (MERGED)
- **Description**:
  - On EE on-prem environments, the "Add people" button is not visible on the organization members page
  - The issue occurs due to incorrect condition checking: `@org_scope?`, `Front.on_prem?()`, and `Front.ce_roles?()`
  - In EE on-prem, all conditions combine to make the button hidden
  - Proposed solution: Implement environment tags system (e.g., `[:ce, :on_prem]`, `[:saas]`) with a helper module to enable/disable features

---

## 2. Semaphore overrides existing .semaphore config, on creating project
- **Issue**: [#256](https://github.com/semaphoreio/semaphore/issues/256)
- **Internal Ticket**: [renderedtext/project-tasks#2670](https://github.com/renderedtext/project-tasks/issues/2670)
- **Type**: Bug
- **Assignee**: hamir-suspect
- **Related PR**: [#526](https://github.com/semaphoreio/semaphore/pull/526) - fix(front): Add skip onboarding button
- **Description**:
  - When connecting a new Semaphore instance to a repository that already has pipelines configured
  - No option to select existing configuration during project creation
  - Original `.semaphore` config file gets modified and overridden
  - Git history preserves original, but unexpected behavior for users

---

## 3. Allow users to edit their email
- **Issue**: [#41](https://github.com/semaphoreio/semaphore/issues/41)
- **Internal Ticket**: [renderedtext/project-tasks#2671](https://github.com/renderedtext/project-tasks/issues/2671) - User email edit form
- **Type**: Enhancement
- **Assignee**: hamir-suspect
- **Status**: No PR yet
- **Security Requirements**: Email validation, check for existing emails, ideally email confirmation
- **Description**:
  - Users currently cannot edit their email address associated with their account
  - In CE/EE: Users must rely on organization owner to make changes
  - In Cloud: Users must contact support team
  - Solution: Redesign "My profile" page to allow email changes and password updates

---

## 4. Introduce Service Accounts
- **Issue**: [#592](https://github.com/semaphoreio/semaphore/issues/592)
- **Internal Tickets**: Multiple related:
  - [#2645](https://github.com/renderedtext/project-tasks/issues/2645) - Service Account Authentication
  - [#2646](https://github.com/renderedtext/project-tasks/issues/2646) - Prepare UI for Service Accounts
  - [#2643](https://github.com/renderedtext/project-tasks/issues/2643) - Block UI access for service accounts
  - [#2677](https://github.com/renderedtext/project-tasks/issues/2677) - Fix triggering builds by service accounts
  - [#2678](https://github.com/renderedtext/project-tasks/issues/2678) - Service account emails not generated properly
  - [#2733](https://github.com/renderedtext/project-tasks/issues/2733) - Update modal for adding service accounts
  - [#2734](https://github.com/renderedtext/project-tasks/issues/2734) - Creating projects with service accounts
- **Type**: Enhancement (solution-tbd)
- **Assignee**: DamjanBecirovic
- **Related PRs**:
  - [#466](https://github.com/semaphoreio/semaphore/pull/466) - Add service account feature (MERGED)
  - [#550](https://github.com/semaphoreio/semaphore/pull/550) - fix(guard): retract roles from service account (MERGED)
  - [#523](https://github.com/semaphoreio/semaphore/pull/523) - fix(guard): service account email domains (MERGED)
  - [#519](https://github.com/semaphoreio/semaphore/pull/519) - feat(github_hooks): handle service account (MERGED)
  - [#522](https://github.com/semaphoreio/semaphore/pull/522) - fix(guard): differentiate GRPC errors (MERGED)
- **Description**:
  - New account type not tied to a Git provider
  - Enables programmatic and automated interactions without traditional user login
  - Key functionalities:
    - UI for creating, viewing, editing service accounts
    - Ability to regenerate access tokens
    - Update existing system components to handle service account data
  - Solution details still to be defined

---

## 5. Tasks - support running tag workflows
- **Issue**: [#34](https://github.com/semaphoreio/semaphore/issues/34)
- **Internal Ticket**: [renderedtext/project-tasks#2672](https://github.com/renderedtext/project-tasks/issues/2672)
- **Type**: Enhancement
- **Assignee**: hamir-suspect
- **Status**: ✅ COMPLETED
- **Related PR**: [#599](https://github.com/semaphoreio/semaphore/pull/599) - feat: Support tags for tasks and task just run (MERGED)
- **Production Deployments**: Successfully deployed to production
- **Description**:
  - Tasks UI and API currently only support specifying branches for workflow execution
  - Users need ability to trigger tasks on tags (not just branches)
  - Example use case: Running workflows on release tags
  - API endpoint affected: `/api/v1alpha/tasks/{task_id}/run_now`
  - Request body needs to support tag specification in addition to branch

---

## 6. Webhook notifications for tags
- **Issue**: [#369](https://github.com/semaphoreio/semaphore/issues/369)
- **Internal Ticket**: [renderedtext/project-tasks#2673](https://github.com/renderedtext/project-tasks/issues/2673)
- **Type**: Enhancement
- **Assignee**: hamir-suspect
- **Status**: ✅ COMPLETED
- **Related PRs**:
  - [#591](https://github.com/semaphoreio/semaphore/pull/591) - feat(notifications): Support for tags (MERGED)
  - [#586](https://github.com/semaphoreio/semaphore/pull/586) - feat(front): Support tags for notifications filters (MERGED)
  - [#585](https://github.com/semaphoreio/semaphore/pull/585) - feat(notifications): Add tags git ref type (MERGED)
  - [#596](https://github.com/semaphoreio/semaphore/pull/596) - feat(public-api-gateway): Refresh protos (MERGED)
  - [#601](https://github.com/semaphoreio/semaphore/pull/601) - fix: notifications processing crash (MERGED)
- **Description**:
  - Users need webhook notifications specifically for tag builds (especially failures)
  - Critical for production releases that use tags
  - Current YAML configuration doesn't support tag-based filtering
  - Proposed solution:
    ```yaml
    notifications:
      - name: "Production Release Failures"
        type: webhook
        endpoint: "https://example.com/webhook"
        events:
          - pipeline_done
        filter:
          result: failed
          ref_type: tag  # New field
          tag: "v*"       # New field with pattern matching
    ```
  - Features needed:
    - `ref_type` field to distinguish tag vs branch builds
    - `tag` field for pattern matching on tag names
    - Support for wildcards and regex patterns

---

## 7. Use parameters in when DSL conditions
- **Issue**: [#366](https://github.com/semaphoreio/semaphore/issues/366)
- **Internal Ticket**: [renderedtext/project-tasks#2674](https://github.com/renderedtext/project-tasks/issues/2674)
- **Type**: Enhancement
- **Assignee**: hamir-suspect
- **Status**: No PR yet
- **Security Requirements**: Strict validation, prevent injection, schema validation
- **Description**:
  - Users optimizing pipelines with templates need parameter support in conditions
  - Current `run:when` only supports specific keywords (branch, result, tag)
  - Cannot use parameters in condition syntax, limiting template flexibility
  - Proposed solutions:
    1. Support in `run:when` conditions:
       ```yaml
       run:
         when: "'${{parameters.ENVIRONMENT}}' = 'prod' and branch = 'master'"
       ```
    2. Support in `auto_promote:when` conditions:
       ```yaml
       auto_promote:
         when: "'${{parameters.ENVIRONMENT}}' = 'prod' AND '${{parameters.OS}}' = 'macos'"
       ```
  - Enable flexible boolean logic with all available parameters

---

## Summary
- **Total tickets**: 7
- **Bug fixes**: 2 (#509, #256)
- **Enhancements**: 5 (#41, #592, #34, #369, #366)
- **Completed features**: 2 (#34 - Tasks with tags, #369 - Webhook notifications for tags)
- **In progress**: 1 (#592 - Service Accounts has partial implementation)
- **Not started**: 3 (#509, #41, #366)
- **Has PR**: 1 (#256)
- **Primary assignee**: hamir-suspect (6 tickets)
- **Secondary assignee**: DamjanBecirovic (1 ticket)
- **Release milestone**: v1.5 - Due September 30, 2025

## Internal Tracking
All public issues are tracked in the private [renderedtext/project-tasks](https://github.com/renderedtext/project-tasks) repository with corresponding internal tickets for SOC2 compliance and security requirements.